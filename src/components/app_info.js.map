{"version":3,"sources":["../../../src/components/app_info.jsx"],"names":[],"mappings":"AAAA,SAAQ,SAAR,EAAmB,CAAnB,QAA2B,wBAA3B;AAEA,eAAe,MAAM,OAAN,SAAsB,SAAtB,CAAgC;AAC7C,EAAA,WAAW,CAAC,KAAD,EAAQ;AACjB,UAAM,KAAN;AACA,SAAK,YAAL,GAAoB,KAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAK,KAAL,GAAa;AACX,MAAA,SAAS,EAAE;AADA,KAAb;AAGD;;AAED,EAAA,yBAAyB,CAAC,SAAD,EAAY;AACnC,QAAI,SAAS,CAAC,IAAV,KAAmB,KAAK,KAAL,CAAW,IAAlC,EAAwC;AACtC,WAAK,QAAL,CAAc;AAAC,QAAA,SAAS,EAAE;AAAZ,OAAd;AACD;AACF;;AAED,EAAA,YAAY,CAAC,GAAD,EAAM;AAChB,IAAA,GAAG,CAAC,cAAJ;AACA,UAAM,IAAI,GAAG,GAAG,CAAC,MAAjB;AACA,UAAM,OAAO,GAAG,IAAI,CAAC,QAAL,CAAc,IAAd,CAAmB,KAAnC;;AACA,QAAI,KAAK,KAAL,CAAW,IAAX,KAAoB,OAAxB,EAAiC;AAC/B,WAAK,KAAL,CAAW,QAAX,CAAoB;AAAC,QAAA,EAAE,EAAE,KAAK,KAAL,CAAW,EAAhB;AAAoB,QAAA,IAAI,EAAE;AAA1B,OAApB;AACA,WAAK,QAAL,CAAc;AAAC,QAAA,SAAS,EAAE;AAAZ,OAAd;AACD;AACF;;AAED,EAAA,MAAM,GAAG;AACP,UAAM;AAAC,MAAA,IAAD;AAAO,MAAA,OAAP;AAAgB,MAAA;AAAhB,QAAwB,KAAK,KAAnC;AACA,WACE;AAAS,MAAA,SAAS,EAAC;AAAnB,OACE;AAAQ,MAAA,SAAS,EAAC;AAAlB,OACE;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAK,MAAA,GAAG,EAAE;AAAV,MADF,CADF,CADF,EAME;AAAK,MAAA,SAAS,EAAC;AAAf,OACE;AAAM,MAAA,SAAS,EAAG,WAAU,KAAK,KAAL,CAAW,SAAX,GAAuB,YAAvB,GAAsC,EAAG,EAArE;AAAwE,MAAA,QAAQ,EAAE,KAAK;AAAvF,OACE;AAAO,MAAA,SAAS,EAAC,OAAjB;AAAyB,MAAA,IAAI,EAAC,MAA9B;AAAqC,MAAA,IAAI,EAAC,MAA1C;AAAiD,MAAA,YAAY,EAAE;AAA/D,MADF,EAEE;AAAG,MAAA,SAAS,EAAC;AAAb,sBAA+B;AAAM,MAAA,QAAQ,EAAE;AAAhB,OAA0B,IAAI,IAAJ,CAAS,OAAT,EAAkB,kBAAlB,EAA1B,CAA/B,CAFF,CADF,CANF,CADF;AAeD;;AA1C4C;AA6C/C,OAAO,CAAC,YAAR,GAAuB;AACrB,EAAA,QAAQ,EAAE,MAAM,CAAE;AADG,CAAvB","file":"app_info.js","sourcesContent":["import {Component, h} from '../../vendor/preact.js';\n\nexport default class AppInfo extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.state = {\n      isLoading: false\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.name !== this.props.name) {\n      this.setState({isLoading: false});\n    }\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n    const form = evt.target;\n    const newName = form.elements.name.value;\n    if (this.props.name !== newName) {\n      this.props.onChange({id: this.props.id, name: newName});\n      this.setState({isLoading: true});\n    }\n  }\n\n  render() {\n    const {name, created, logo} = this.props;\n    return (\n      <article className=\"media\">\n        <figure className=\"media-left\">\n          <div className=\"image is-64x64\">\n            <img src={logo} />\n          </div>\n        </figure>\n        <div className=\"media-content\">\n          <form className={`control ${this.state.isLoading ? 'is-loading' : ''}`} onSubmit={this.handleSubmit}>\n            <input className=\"input\" type=\"text\" name=\"name\" defaultValue={name} />\n            <p className=\"help\">Created on <time dateTime={created}>{new Date(created).toLocaleDateString()}</time></p>\n          </form>\n        </div>\n      </article>\n    );\n  }\n}\n\nAppInfo.defaultProps = {\n  onChange: () => {},\n}"]}